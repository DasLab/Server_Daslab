{% extends "media/html/_internal.html" %}
{% block content %}
<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
	<span>
		<button class="btn btn-warning" id="btn_toggle"><span class="glyphicon glyphicon-refresh"></span>&nbsp;&nbsp;Toggle View</button>
		&nbsp;&nbsp;<span id="label_timeline">Timeline</span>&nbsp;&nbsp;/&nbsp;&nbsp;<span id="label_table">Table</span>
	</span>

	<div class="row" id="toggle_timeline">
		<div class="col-lg-1 col-md-1 col-sm-1 col-xs-1"></div>
		<div class="col-lg-10 col-md-10 col-sm-10 col-xs-10">
		    <ul class="timeline">
				{% for rot in rot_list %}
		        <li {% if forloop.counter|divisibleby:2 %} class="timeline-inverted" {% endif %}>
					<div class="timeline-badge timeline-{{rot.label}}"><span class="glyphicon glyphicon-retweet"></span></div>
					{% if rot.year_start %}
					<div class="timeline-year">{{rot.date.year}}</div>
					{% endif %}
					<div class="timeline-panel">
						<div class="timeline-heading">
							<h4 class="timeline-title">
								{{rot.title}}
								{% if rot.ppt %}
								&nbsp;&nbsp;<a href="/site_data/rot_ppt/{{rot.ppt_link}}" target="_blank"><span class="glyphicon glyphicon-download-alt" style="font-size:14px;"></span></a>
								{% endif %}
								{% if rot.data %}
								&nbsp;&nbsp;<a href="/site_data/rot_data/{{rot.dat_link}}" target="_blank"><span class="glyphicon glyphicon-floppy-save" style="font-size:14px;"</span></a>
								{% endif %}
							</h4>
						</div>
						<div class="timeline-body">
							<p>
								<span class="glyphicon glyphicon-user"></span>&nbsp;&nbsp;<b>{{rot.full_name}}</b>
								<span class="pull-right"><span class="glyphicon glyphicon-time"></span>&nbsp;&nbsp;{{rot.date|date:"b d Y"|title}}</span>
							</p>
						</div>
					</div>
		        </li>
				{% endfor %}
		    </ul>
		</div>
		<div class="col-lg-1 col-md-1 col-sm-1 col-xs-1"></div>
	</div>

	<div class="row" id="toggle_table">
		<br/>
		<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
			<table class="table table-hover">
				<thead>
					<tr class="active">
						<th class="col-md-2">Date</th>
						<th class="col-md-3">Student</th>
						<th class="col-md-5">Title</th>
						<th class="col-md-1">Presentation</th>
						<th class="col-md-1">Extra</th>
					</tr>
				</thead>
				<tbody>
				{% for rot in rot_list %}
					<tr {% if forloop.counter|divisibleby:2 %} class="active" {% endif %}>
						<td><i>{{rot.date|date:"b d Y"|title}}</i></td>
						<td><b>{{rot.full_name}}</b></td>
						<td>{{rot.title}}</td>
						<td>
							{% if rot.ppt %} <a href="/site_data/rot_ppt/{{rot.ppt_link}}" target="_blank"><span class="glyphicon glyphicon-download-alt" aria-hidden="true"></span></a> {% endif %}
						</td>
						<td>
							{% if rot.data %} <a href="/site_data/rot_data/{{rot.dat_link}}" target="_blank"><span class="glyphicon glyphicon-floppy-save" aria-hidden="true"></span></a> {% endif %}
						</td>
					</tr>
				{% endfor %}
					<tr><td colspan="5" style="padding: 0px;"></td></tr>
				</tbody>
			</table>
		</div>
	</div>
</div>
{% endblock %}


{% block script %}
	<script type="text/javascript">
		$(document).ready(function() {
			$('.dropdown-toggle').removeClass("active");
			$("ul.breadcrumb").append('<li class="active"><span style="color: #000;" class="glyphicon glyphicon-retweet"></span>&nbsp;&nbsp;Rotation Student Presentations</li>');
			$('#top').on('click', function () {
				$('html, body').stop().animate({scrollTop: $("#main").offset().top - 75}, 500);
			});

			var toggle_flag = false;
			$("#btn_toggle").on("click", function () {
				if (toggle_flag) {
					$("#toggle_table").fadeIn(500);
					$("#toggle_timeline").fadeOut(500);
					$("#label_table").css({"font-weight":"bold", "text-decoration":"underline"});
					$("#label_timeline").css({"font-weight":"normal", "text-decoration":"none"});
				} else {
					$("#toggle_table").fadeOut(500);
					$("#toggle_timeline").fadeIn(500);
					$("#label_table").css({"font-weight":"normal", "text-decoration":"none"});
					$("#label_timeline").css({"font-weight":"bold", "text-decoration":"underline"});
				}
				toggle_flag = !toggle_flag;
			});
			$("#btn_toggle").trigger("click");
		});
	</script>

{% endblock %}